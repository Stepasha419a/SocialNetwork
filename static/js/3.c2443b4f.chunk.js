(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{294:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__b9bzy",mainPhoto:"ProfileInfo_mainPhoto__2KKsi",touchBlock:"ProfileInfo_touchBlock__2qfj1",spanBlock:"ProfileInfo_spanBlock__u6fIb",infoBlock:"ProfileInfo_infoBlock__XeJNY",toggleEditMode:"ProfileInfo_toggleEditMode__2VYSN",form:"ProfileInfo_form___z0QT",input:"ProfileInfo_input__1Zu_b",flexBox:"ProfileInfo_flexBox__uXBam",formBlock:"ProfileInfo_formBlock__3VNs_",textarea:"ProfileInfo_textarea__3Xjmy",contact:"ProfileInfo_contact__1Urfk",formSummaryError:"ProfileInfo_formSummaryError__Y1ZEf",myContacts:"ProfileInfo_myContacts__29FD2"}},296:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2WXhY",posts:"MyPosts_posts__3gXdt"}},297:function(e,t,s){e.exports={item:"Post_item__1R9gh"}},298:function(e,t,s){e.exports={StatusBody:"ProfileStatus_StatusBody__2FIKP",StatusSpan:"ProfileStatus_StatusSpan__2SLCC"}},300:function(e,t,s){"use strict";s.r(t);var o=s(3),c=s(1),i=s(37),a=s(38),n=s(41),r=s(40),l=s(0),j=s.n(l),u=s(16),b=s(101),d=s(296),f=s.n(d),h=s(297),p=s.n(h),O=s(99),x=function(e){return Object(c.jsxs)("div",{className:p.a.item,children:[Object(c.jsx)("img",{src:O.a,alt:"fail load"}),e.message,Object(c.jsx)("div",{children:Object(c.jsxs)("span",{children:[e.likesCount," likes"]})})]})},m=s(134),v=s(52),_=s(26),P=Object(v.a)(10),k=Object(m.a)({form:"ProfileAddNewPostForm"})((function(e){var t=e.handleSubmit;return Object(c.jsxs)("form",{onSubmit:t,children:[Object(_.a)(null,"newPostText",[v.b,P],_.c),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"Add post"})})]})})),g=function(e){var t=e.posts,s=e.addPost,o=t.map((function(e){return Object(c.jsx)(x,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(c.jsxs)("div",{className:f.a.postsBlock,children:[Object(c.jsx)("h3",{children:"My posts:"}),Object(c.jsx)(k,{onSubmit:function(e){s(e.newPostText)}}),Object(c.jsx)("div",{className:f.a.posts,children:o})]})},S=Object(u.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:b.a})(g),N=s(100),B=s(294),y=s.n(B),I=s(43),C=s(298),w=s.n(C),F=function(e){var t=Object(l.useState)(!1),s=Object(N.a)(t,2),o=s[0],i=s[1],a=Object(l.useState)(e.status),n=Object(N.a)(a,2),r=n[0],j=n[1];Object(l.useEffect)((function(){j(e.status)}),[e.status]);return Object(c.jsxs)("div",{children:[!o&&Object(c.jsx)("div",{className:w.a.StatusBody,children:Object(c.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[Object(c.jsxs)("span",{className:w.a.StatusSpan,children:[Object(c.jsx)("b",{children:"Status"}),":"]})," ",e.status||"Status is Undefinded"]})}),o&&Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"edit status: "}),Object(c.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(r)},onChange:function(e){j(e.currentTarget.value)},value:r})]})]})},M=y.a.flexBox+" "+y.a.formBlock,A=Object(m.a)({form:"editProfile"})((function(e){var t=e.profile,s=e.handleSubmit,o=e.error;return Object(c.jsxs)("form",{className:y.a.form,onSubmit:s,children:[Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsx)("b",{children:"Full Name"}),": ",Object(c.jsx)("div",{className:y.a.input,children:Object(_.a)("Full Name","fullName",[],_.b)})]}),Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsx)("b",{children:"About me"}),": ",Object(c.jsx)("div",{className:y.a.input,children:Object(_.a)("Describe self","aboutMe",[],_.b)})]}),Object(c.jsxs)("div",{className:M,children:[Object(c.jsx)("b",{children:"Looking for a job"})," ",Object(c.jsx)("div",{children:Object(_.a)("","lookingForAJob",[],_.b,{type:"checkbox"})})]}),Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsxs)("span",{children:[Object(c.jsxs)("b",{children:["Description of the ",Object(c.jsx)("br",{})," job you are looking for"]}),":"]})," ",Object(c.jsx)("div",{className:y.a.input,children:Object(_.a)("Professional Skills","lookingForAJobDescription",[],_.c,{className:y.a.textarea})})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(c.jsxs)("div",{className:y.a.contact,children:[Object(c.jsxs)("b",{children:[e,":"]})," ",Object(_.a)(e,"contacts."+e,[],_.b)]},e)}))]}),o&&Object(c.jsx)("div",{className:y.a.formSummaryError,children:o}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"save edit"})})]})})),D=function(e){var t=e.contact,s=e.link;return s?Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:t}),": ",s]}):null},E=function(e){var t=e.profile,s=e.status,o=e.updateStatus,i=e.isOwner,a=e.savePhoto,n=e.saveProfile,r=Object(l.useState)(!1),j=Object(N.a)(r,2),u=j[0],b=j[1],d=Object(l.useState)(!1),f=Object(N.a)(d,2),h=f[0],p=f[1];if(!t)return Object(c.jsx)(I.a,{});return Object(c.jsx)("div",{children:h?Object(c.jsx)(A,{initialValues:t,profile:t,onSubmit:function(e){n(e).then((function(){p(!1)}))}}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:y.a.descriptionBlock,children:[Object(c.jsxs)("div",{className:y.a.touchBlock,onClick:function(){b(!0)},onBlur:null,children:[Object(c.jsx)("img",{src:t.photos.large||O.a,alt:"fail load",className:y.a.mainPhoto}),i&&Object(c.jsx)("span",{className:y.a.spanBlock,children:"Click to change avatar"})]}),Object(c.jsxs)("div",{className:y.a.infoBlock,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Full Name"}),": ",t.fullName]}),u&&i&&Object(c.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&a(e.target.files[0])}}),Object(c.jsx)(F,{status:s,updateStatus:o}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(c.jsx)("div",{children:t.lookingForAJob?Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Looking for a job"})}):Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Not looking for a job"})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Description of the job you are looking for"}),": ",t.lookingForAJobDescription]}),i&&Object(c.jsx)("div",{className:y.a.toggleEditMode,children:Object(c.jsx)("button",{onClick:function(){p(!0)},children:"edit"})})]})]}),Object(c.jsxs)("div",{className:y.a.myContacts,children:[Object(c.jsx)("b",{children:"My contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(c.jsx)(D,{contact:e,link:t.contacts[e]},e)}))]})]})})},U=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),Object(c.jsx)(S,{})]})},J=s(11),T=s(10),X=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(j.a.Component);t.default=Object(T.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.UserId,isAuth:e.auth.isAuth}}),{getUserProfile:b.d,getStatus:b.c,updateStatus:b.g,savePhoto:b.e,saveProfile:b.f}),J.g)(X)}}]);
//# sourceMappingURL=3.c2443b4f.chunk.js.map