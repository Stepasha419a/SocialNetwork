{"version":3,"sources":["Components/News/News.module.css","Components/News/PostsCreator.js","Components/News/NewsPostsForm.js","Components/News/News.js","Components/News/NewsContainer.js"],"names":["module","exports","PostsCreator","newsPosts","login","map","post","console","log","className","s","userBox","userIcon","src","defaultIcon","alt","title","userName","discription","text","postText","image","id","NewsPostForm","handleSubmit","saveTempImage","useState","editMode","setEditMode","cn","postForm","onSubmit","inputForm","imageInput","type","onChange","event","target","files","length","readURL","file","Promise","res","rej","reader","FileReader","onload","e","result","onerror","readAsDataURL","a","url","preview","inputBox","CreateField","Textarea","formTextarea","onFocus","formButton","reduxForm","form","NewsContainer","formData","props","tempImage","pushAFullPostToWall","pushPostToWall","this","onImageSelected","React","Component","connect","state","newsPage","posts","auth"],"mappings":"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","file":"static/js/5.5619ca6a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"News_post__2R2Jv\",\"title\":\"News_title__3bfkb\",\"discription\":\"News_discription__hX1sr\",\"image\":\"News_image__1gVHu\",\"userIcon\":\"News_userIcon__3uJnS\",\"userBox\":\"News_userBox__1MxQC\",\"postForm\":\"News_postForm__1XtC1\",\"formButton\":\"News_formButton__3uwun\",\"formTextarea\":\"News_formTextarea__3Tjm2\",\"login\":\"News_login__psG9m\",\"formControl\":\"News_formControl__2oU0d\",\"error\":\"News_error__3QB46\",\"inputForm\":\"News_inputForm__3z9Lx\",\"imageInput\":\"News_imageInput__1Bb72\",\"inputBox\":\"News_inputBox__mdj98\",\"like\":\"News_like__-L1Hq\",\"likeSpan\":\"News_likeSpan__3Q91Q\",\"likeBox\":\"News_likeBox__1Nv-j\"};","import React from 'react'\r\nimport s from './News.module.css'\r\nimport defaultIcon from '../../assets/images/defaultIcon.png'\r\n\r\nconst PostsCreator = ({ newsPosts, login }) => (\r\n\r\n    newsPosts.map(post => {\r\n        console.log(post)\r\n\r\n        return (\r\n            <div className={s.post} key={post.id}>\r\n                <div className={s.userBox}>\r\n                    <img className={s.userIcon} src={defaultIcon} alt='failing load' />\r\n                    <div className={s.title}>{post.userName || login}</div>\r\n                </div>\r\n                <div className={s.discription}>{post.text || post.postText.text}</div>\r\n                {post.image && < div >\r\n                    <img className={s.image} src={post.image} alt='failing load' />\r\n                </div>}\r\n            </div >\r\n        )\r\n    })\r\n)\r\n\r\nexport default PostsCreator","import React, { useState } from 'react'\r\nimport s from './News.module.css'\r\nimport cn from 'classnames'\r\nimport { CreateField, Textarea } from '../common/FormsControls/FormsControls'\r\n\r\nconst NewsPostForm = ({ handleSubmit, saveTempImage }) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onImageSelected = (event) => {\r\n        if (event.target.files.length) {\r\n            const readURL = file => {\r\n                return new Promise((res, rej) => {\r\n                    const reader = new FileReader();\r\n                    reader.onload = e => res(e.target.result);\r\n                    reader.onerror = e => rej(e);\r\n                    reader.readAsDataURL(file);\r\n                });\r\n            };\r\n\r\n            const preview = async event => {\r\n                const file = event.target.files[0];\r\n                const url = await readURL(file);\r\n                saveTempImage(url)\r\n            };\r\n\r\n            preview(event)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <form className={cn(s.postForm, s.post)} onSubmit={handleSubmit} >\r\n            {editMode && <div className={s.inputForm}>\r\n                <input className={s.imageInput} type='file' onChange={onImageSelected}></input>\r\n                <span>для фото</span>\r\n            </div>}\r\n            <div className={s.inputBox}>\r\n                {CreateField('PostText', 'text', [], Textarea, { className: s.formTextarea, onFocus: activateEditMode })}\r\n                <button className={s.formButton}>Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewsPostForm","import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport PostsCreator from './PostsCreator'\r\nimport NewsPostForm from './NewsPostsForm'\r\n\r\nconst News = ({ newsPosts, handleSubmit, login, saveTempImage }) => {\r\n\r\n    return (\r\n        <div>\r\n            <NewsPostForm handleSubmit={handleSubmit}\r\n                saveTempImage={saveTempImage} />\r\n            <div>\r\n                <PostsCreator login={login}\r\n                    newsPosts={newsPosts} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'newsPosts'\r\n})(News)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport News from './News'\r\nimport { pushPostToWall, saveTempImage, pushAFullPostToWall } from '../../redux/newsReducer'\r\n\r\nclass NewsContainer extends React.Component {\r\n\r\n    onSubmit = (formData) => {\r\n        console.log(formData)\r\n        if (this.props.tempImage) {\r\n            this.props.pushAFullPostToWall(formData, this.props.login)\r\n        } else {\r\n            this.props.pushPostToWall(formData, this.props.login)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <News\r\n            newsPosts={this.props.newsPosts}\r\n            onSubmit={this.onSubmit}\r\n            login={this.props.login}\r\n            saveTempImage={this.props.saveTempImage}\r\n            onImageSelected={this.onImageSelected} />\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        newsPosts: state.newsPage.posts,\r\n        login: state.auth.login,\r\n        tempImage: state.newsPage.tempImage\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { pushPostToWall, saveTempImage, pushAFullPostToWall })(NewsContainer)"],"sourceRoot":""}