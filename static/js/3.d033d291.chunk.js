(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{293:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__b9bzy",mainPhoto:"ProfileInfo_mainPhoto__2KKsi",touchBlock:"ProfileInfo_touchBlock__2qfj1",spanBlock:"ProfileInfo_spanBlock__u6fIb",infoBlock:"ProfileInfo_infoBlock__XeJNY",toggleEditMode:"ProfileInfo_toggleEditMode__2VYSN",form:"ProfileInfo_form___z0QT",input:"ProfileInfo_input__1Zu_b",flexBox:"ProfileInfo_flexBox__uXBam",formBlock:"ProfileInfo_formBlock__3VNs_",textarea:"ProfileInfo_textarea__3Xjmy",contact:"ProfileInfo_contact__1Urfk",formSummaryError:"ProfileInfo_formSummaryError__Y1ZEf",myContacts:"ProfileInfo_myContacts__29FD2"}},294:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2WXhY",posts:"MyPosts_posts__3gXdt"}},295:function(t,e,s){t.exports={item:"Post_item__1R9gh"}},296:function(t,e,s){t.exports={StatusBody:"ProfileStatus_StatusBody__2FIKP",StatusSpan:"ProfileStatus_StatusSpan__2SLCC"}},298:function(t,e,s){"use strict";s.r(e);var o=s(3),c=s(1),i=s(37),a=s(38),n=s(40),r=s(39),l=s(0),j=s.n(l),u=s(16),b=s(99),d=s(294),f=s.n(d),h=s(295),p=s.n(h),O=function(t){return Object(c.jsxs)("div",{className:p.a.item,children:[Object(c.jsx)("img",{src:"https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380",alt:"fail load"}),t.message,Object(c.jsx)("div",{children:Object(c.jsxs)("span",{children:[t.likesCount," likes"]})})]})},x=s(133),m=s(51),v=s(26),_=Object(m.a)(10),P=Object(x.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(c.jsxs)("form",{onSubmit:e,children:[Object(v.a)(null,"newPostText",[m.b,_],v.c),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"Add post"})})]})})),k=function(t){var e=t.posts,s=t.addPost,o=e.map((function(t){return Object(c.jsx)(O,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(c.jsxs)("div",{className:f.a.postsBlock,children:[Object(c.jsx)("h3",{children:"My posts:"}),Object(c.jsx)(P,{onSubmit:function(t){s(t.newPostText)}}),Object(c.jsx)("div",{className:f.a.posts,children:o})]})},g=Object(u.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:b.a})(k),S=s(100),N=s(293),y=s.n(N),B=s(42),I=s(111),C=s(296),w=s.n(C),F=function(t){var e=Object(l.useState)(!1),s=Object(S.a)(e,2),o=s[0],i=s[1],a=Object(l.useState)(t.status),n=Object(S.a)(a,2),r=n[0],j=n[1];Object(l.useEffect)((function(){j(t.status)}),[t.status]);return Object(c.jsxs)("div",{children:[!o&&Object(c.jsx)("div",{className:w.a.StatusBody,children:Object(c.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[Object(c.jsxs)("span",{className:w.a.StatusSpan,children:[Object(c.jsx)("b",{children:"Status"}),":"]})," ",t.status||"Status is Undefinded"]})}),o&&Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"edit status: "}),Object(c.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(r)},onChange:function(t){j(t.currentTarget.value)},value:r})]})]})},M=y.a.flexBox+" "+y.a.formBlock,A=Object(x.a)({form:"editProfile"})((function(t){var e=t.profile,s=t.handleSubmit,o=t.error;return Object(c.jsxs)("form",{className:y.a.form,onSubmit:s,children:[Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsx)("b",{children:"Full Name"}),": ",Object(c.jsx)("div",{className:y.a.input,children:Object(v.a)("Full Name","fullName",[],v.b)})]}),Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsx)("b",{children:"About me"}),": ",Object(c.jsx)("div",{className:y.a.input,children:Object(v.a)("Describe self","aboutMe",[],v.b)})]}),Object(c.jsxs)("div",{className:M,children:[Object(c.jsx)("b",{children:"Looking for a job"})," ",Object(c.jsx)("div",{children:Object(v.a)("","lookingForAJob",[],v.b,{type:"checkbox"})})]}),Object(c.jsxs)("div",{className:y.a.formBlock,children:[Object(c.jsxs)("span",{children:[Object(c.jsxs)("b",{children:["Description of the ",Object(c.jsx)("br",{})," job you are looking for"]}),":"]})," ",Object(c.jsx)("div",{className:y.a.input,children:Object(v.a)("Professional Skills","lookingForAJobDescription",[],v.c,{className:y.a.textarea})})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(c.jsxs)("div",{className:y.a.contact,children:[Object(c.jsxs)("b",{children:[t,":"]})," ",Object(v.a)(t,"contacts."+t,[],v.b)]},t)}))]}),o&&Object(c.jsx)("div",{className:y.a.formSummaryError,children:o}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"save edit"})})]})})),D=function(t){var e=t.contact,s=t.link;return s?Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:e}),": ",s]}):null},E=function(t){var e=t.profile,s=t.status,o=t.updateStatus,i=t.isOwner,a=t.savePhoto,n=t.saveProfile,r=Object(l.useState)(!1),j=Object(S.a)(r,2),u=j[0],b=j[1],d=Object(l.useState)(!1),f=Object(S.a)(d,2),h=f[0],p=f[1];if(!e)return Object(c.jsx)(B.a,{});return Object(c.jsx)("div",{children:h?Object(c.jsx)(A,{initialValues:e,profile:e,onSubmit:function(t){n(t).then((function(){p(!1)}))}}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:y.a.descriptionBlock,children:[Object(c.jsxs)("div",{className:y.a.touchBlock,onClick:function(){b(!0)},onBlur:null,children:[Object(c.jsx)("img",{src:e.photos.large||I.a,alt:"fail load",className:y.a.mainPhoto}),i&&Object(c.jsx)("span",{className:y.a.spanBlock,children:"Click to change avatar"})]}),Object(c.jsxs)("div",{className:y.a.infoBlock,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Full Name"}),": ",e.fullName]}),u&&i&&Object(c.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&a(t.target.files[0])}}),Object(c.jsx)(F,{status:s,updateStatus:o}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),Object(c.jsx)("div",{children:e.lookingForAJob?Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Looking for a job"})}):Object(c.jsx)("div",{children:Object(c.jsx)("b",{children:"Not looking for a job"})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Description of the job you are looking for"}),": ",e.lookingForAJobDescription]}),i&&Object(c.jsx)("div",{className:y.a.toggleEditMode,children:Object(c.jsx)("button",{onClick:function(){p(!0)},children:"edit"})})]})]}),Object(c.jsxs)("div",{className:y.a.myContacts,children:[Object(c.jsx)("b",{children:"My contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(c.jsx)(D,{contact:t,link:e.contacts[t]},t)}))]})]})})},U=function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),Object(c.jsx)(g,{})]})},J=s(11),T=s(10),X=function(t){Object(n.a)(s,t);var e=Object(r.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(j.a.Component);e.default=Object(T.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.UserId,isAuth:t.auth.isAuth}}),{getUserProfile:b.d,getStatus:b.c,updateStatus:b.g,savePhoto:b.e,saveProfile:b.f}),J.g)(X)}}]);
//# sourceMappingURL=3.d033d291.chunk.js.map